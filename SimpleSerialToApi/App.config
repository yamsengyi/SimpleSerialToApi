<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <!-- Configuration Sections -->
  <configSections>
    <section name="apiMappings" type="SimpleSerialToApi.Configuration.ApiMappingSection, SimpleSerialToApi" />
    <section name="messageQueue" type="SimpleSerialToApi.Configuration.MessageQueueSection, SimpleSerialToApi" />
  </configSections>
  
  <!-- Serial Communication Settings -->
  <appSettings>
    <add key="SerialPort" value="COM3" />
    <add key="BaudRate" value="9600" />
    <add key="Parity" value="None" />
    <add key="DataBits" value="8" />
    <add key="StopBits" value="One" />
    <add key="Handshake" value="None" />
    <add key="ReadTimeout" value="5000" />
    <add key="WriteTimeout" value="5000" />
    
    <!-- Legacy API Integration Settings (kept for backward compatibility) -->
    <add key="ApiEndpoint" value="https://api.example.com/data" />
    <add key="ApiMethod" value="POST" />
    <add key="AuthType" value="Bearer" />
    <add key="AuthToken" value="" />
    
    <!-- Legacy Message Queue Settings (kept for backward compatibility) -->
    <add key="QueueMaxSize" value="1000" />
    <add key="RetryMaxAttempts" value="3" />
    <add key="RetryDelayMs" value="1000" />
    
    <!-- Logging Settings -->
    <add key="LogLevel" value="Information" />
  </appSettings>
  
  <!-- API Mapping Configuration -->
  <apiMappings>
    <endpoints>
      <add name="SensorDataEndpoint" 
           url="https://api.example.com/sensor-data" 
           method="POST" 
           authType="Bearer"
           authToken=""
           timeout="30000" />
      <add name="StatusEndpoint" 
           url="https://api.example.com/device-status" 
           method="PUT" 
           authType="Bearer"
           authToken=""
           timeout="15000" />
    </endpoints>
    <mappingRules>
      <add sourceField="temperature" 
           targetField="temp_celsius" 
           dataType="decimal" 
           converter="TemperatureConverter"
           defaultValue="0.0"
           isRequired="true" />
      <add sourceField="humidity" 
           targetField="humidity_percent" 
           dataType="decimal" 
           converter=""
           defaultValue="0.0"
           isRequired="false" />
      <add sourceField="deviceId" 
           targetField="device_identifier" 
           dataType="string" 
           converter=""
           defaultValue=""
           isRequired="true" />
    </mappingRules>
  </apiMappings>
  
  <!-- Message Queue Configuration -->
  <messageQueue maxQueueSize="1000" batchSize="10" retryCount="3" retryInterval="5000" />
</configuration>